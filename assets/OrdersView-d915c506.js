import{f as _}from"./frontStore-b1eb10c8.js";import{_ as x,e as g,r as m,o as s,c as o,f as t,F as i,a as l,b as u,t as a,n as f}from"./index-2c130a2d.js";import{P as y}from"./PaginationComponent-a205569f.js";import"./sweetalert2.all-a44f0724.js";const{VITE_API:b,VITE_PATH:P}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},$={data(){return{orders:[],orderPagination:{}}},components:{PaginationComponent:y},methods:{...g(_,["alertMessage","getFormatDate"]),getOrders(r=1){this.$http.get(`${b}api/${P}/orders?page=${r}`).then(n=>{this.orders=n.data.orders,this.orderPagination=n.data.pagination,this.$router.push(`/user/orders/${r}`)}).catch(()=>{this.alertMessage("無法取得訂單列表")})}},mounted(){this.getOrders(this.$route.params.orderpage)}},w={class:"container pt-10 md:pt-16"},v=t("h2",{class:"titleDash text-h4 text-center text-dark pb-5 mb-7"},"訂單列表",-1),E={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},V={class:"w-full text-sm text-center text-fog-500"},D=t("thead",{class:"font-extrabold text-4.5 text-fog-500 bg-fog-200 whitespace-nowrap"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," 日期 "),t("th",{scope:"col",class:"px-6 py-3"}," 訂單編號 "),t("th",{scope:"col",class:"px-6 py-3"}," 訂單內容 "),t("th",{scope:"col",class:"px-6 py-3"}," 總計 "),t("th",{scope:"col",class:"px-6 py-3"},[t("span",{class:"hidden md:block"},"付款狀態")])])],-1),T={class:"px-2 py-4 md:px-6"},k={class:"px-2 py-4 md:px-6 text-xs"},A={class:"px-2 py-4 text-xs md:px-6"},I={class:"px-2 py-4 md:px-6 text-xs whitespace-nowrap"};function O(r,n,C,S,c,d){const h=m("PaginationComponent");return s(),o(i,null,[t("div",w,[v,t("div",E,[t("table",V,[D,t("tbody",null,[(s(!0),o(i,null,l(c.orders,e=>(s(),o("tr",{class:"bg-white border-b hover:bg-fog-100",key:e.create_at},[t("td",T,a(r.getFormatDate(e.create_at)),1),t("td",k,a(e.id),1),t("td",A,[(s(!0),o(i,null,l(e.products,p=>(s(),o("p",{key:`item${p.id}`},a(`${p.product.title} x ${p.qty}`),1))),128))]),t("td",I," NT $ "+a(e.total),1),t("td",{class:f(["px-2 py-4 md:px-6 whitespace-nowrap",{"text-highlight border-b-highlight":!e.is_paid}])},a(e.is_paid?"已付款":"未付款"),3)]))),128))])])])]),u(h,{pagination:c.orderPagination,onGetpage:d.getOrders},null,8,["pagination","onGetpage"])],64)}const R=x($,[["render",O]]);export{R as default};

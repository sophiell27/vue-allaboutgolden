import{f as h}from"./frontStore-feb52c92.js";import{_ as g,r as i,o as d,c as p,f as t,b as l,w as m,j as P,t as c,i as a,m as v,e as C,d as _}from"./index-f279d5bc.js";import{P as k}from"./ProductListComponent-4eaaf1d6.js";import{P as $}from"./PillBtnComponent-cf5184b0.js";import"./sweetalert2.all-e3adc923.js";const B={data(){return{}},props:["tempProduct"]},D={key:0,class:"py-6 flex flex-col text-fog-400 text-sm md:flex-row md:items-center"},V={class:"flex"},L=t("span",{class:"pl-1 lg:pl-2"},"全部商品",-1),w=t("span",{class:"material-symbols-outlined pl-3 text-base lg:text-2xl"}," chevron_right ",-1),E={class:"pl-1 lg:pl-2"},Q=t("span",{class:"material-symbols-outlined pl-3 text-base lg:text-2xl"}," chevron_right ",-1),T={key:0,class:"pl-2 md:text-4.5 text-highlight"};function A(o,e,r,x,s,f){const n=i("RouterLink");return r.tempProduct?(d(),p("div",D,[t("div",V,[l(n,{to:"/products",class:"flex items-center md:text-4.5 hover:text-highlight"},{default:m(()=>[L,w]),_:1}),r.tempProduct.category!="全部商品"?(d(),P(n,{key:0,to:`/products/category/${r.tempProduct.category}`,class:"flex items-center md:text-4.5 hover:text-highlight"},{default:m(()=>[t("span",E,c(r.tempProduct.category),1),Q]),_:1},8,["to"])):a("",!0)]),r.tempProduct.title?(d(),p("p",T,c(r.tempProduct.title),1)):a("",!0)])):a("",!0)}const I=g(B,[["render",A]]),{VITE_API:S,VITE_PATH:N}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},R={data(){return{product:{},tempQty:1}},components:{BreadrumbComponent:I,ProductListComponent:k,PillBtnComponent:$},computed:{...v(h,["getFilterCategoryProducts"])},watch:{tempQty(o){o>10?this.tempQty=10:o<=0&&(this.tempQty=1)},$route(o){const{productid:e}=o.params;e&&this.getProductDetail(e)},mounted(){this.getProductDetail(this.$route.params.productid)}},methods:{...C(h,["getProducts","addCart"]),getProductDetail(o){this.isLoading=!0,this.$http.get(`${S}api/${N}/product/${o}`).then(e=>{this.isLoading=!1,this.product=e.data.product}).catch(e=>(this.isLoading=!1,this.alertMessage("取得商品資訊發生錯誤!"),this.$router.push("/products"),e))}},mounted(){const{productid:o,category:e}=this.$route.params;this.getProductDetail(o),this.getProducts(e)}},j={class:"container"},F={class:"flex mb-12 sm:flex-row"},H=["src"],M={class:"px-4"},O={class:"mb-2 flex flex-col md:text-h4 md:mb-6"},U={class:"text-base text-highlight md:mt-6"},q={class:"mb-4"},z={class:"text-sm mb-4"},G={class:"flex"},J={type:"button",class:"text-fog-400 px-4 py-1 bg-fog-200 border-x border-x-fog-300"},K=t("span",{class:"hidden md:block"},"加入購物車",-1),W=t("span",{class:"material-symbols-outlined md:hidden"}," shopping_cart ",-1),X=[K,W],Y={class:""},Z=t("h2",{class:"text-lg titleDash after:mx-0 mb-6 md:text-2xl"},"相關產品",-1),tt={class:"flex justify-center"};function et(o,e,r,x,s,f){const n=i("BreadrumbComponent"),b=i("ProductListComponent"),y=i("PillBtnComponent");return d(),p("div",j,[l(n,{tempProduct:s.product},null,8,["tempProduct"]),t("div",F,[t("img",{src:s.product.imageUrl,alt:"product photo",class:"object-cover mb-6 w-1/2 h-full md:h-auto md:object-contain"},null,8,H),t("article",M,[t("h2",O,[_(c(s.product.title)+" ",1),t("span",U,"NT$"+c(s.product.price),1)]),t("p",q,c(s.product.description),1),t("p",z,c(s.product.content),1),t("div",G,[t("button",{type:"button",class:"px-2 py-1 rounded-s-md bg-fog-200 hover:bg-primary hover:text-dark",onClick:e[0]||(e[0]=u=>s.tempQty-=1)}," - "),t("button",J,c(s.tempQty),1),t("button",{type:"button",class:"px-2 py-1 rounded-e-md bg-fog-200 hover:bg-primary hover:text-dark",onClick:e[1]||(e[1]=u=>s.tempQty+=1)}," + "),t("button",{type:"button",class:"bg-secondary py-2 px-4 rounded-md text-white ml-4 hover:bg-primary hover:text-dark",onClick:e[2]||(e[2]=u=>o.addCart(s.product,s.tempQty))},X)])])]),t("div",Y,[Z,l(b,{products:o.getFilterCategoryProducts},null,8,["products"]),t("div",tt,[l(y,{dynamicPath:"/products"},{default:m(()=>[_(" 看更多產品 ")]),_:1})])])])}const it=g(R,[["render",et]]);export{it as default};

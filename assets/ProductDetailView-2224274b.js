import{f as _}from"./frontStore-aaacdf07.js";import{_ as x,r as l,o as n,c as p,b as m,w as u,j as P,f as t,t as c,i as a,m as v,e as C,d as g,h as k}from"./index-b4ff87b5.js";import{P as B}from"./ProductListComponent-303c3a95.js";import{P as D}from"./PillBtnComponent-b4e96a50.js";import"./sweetalert2.all-d8776a3a.js";const L={data(){return{}},props:["tempProduct"]},V={key:0,class:"py-6 flex items-center text-fog-400 text-sm"},$=t("span",{class:"md:pl-1 lg:pl-2"},"全部商品",-1),w=t("span",{class:"material-symbols-outlined md:pl-3 text-base lg:text-2xl"}," chevron_right ",-1),E={class:"md:pl-1 lg:pl-2"},I=t("span",{class:"material-symbols-outlined md:pl-3 text-base lg:text-2xl"}," chevron_right ",-1),Q={key:1,class:"md:pl-2 md:text-lg text-highlight"};function T(o,e,r,f,s,h){const i=l("RouterLink");return r.tempProduct?(n(),p("div",V,[m(i,{to:"/products",class:"flex items-center md:text-lg hover:text-highlight"},{default:u(()=>[$,w]),_:1}),r.tempProduct.category!="全部商品"?(n(),P(i,{key:0,to:`/products/category/${r.tempProduct.category}`,class:"flex items-center md:text-lg hover:text-highlight"},{default:u(()=>[t("span",E,c(r.tempProduct.category),1),I]),_:1},8,["to"])):a("",!0),r.tempProduct.title?(n(),p("p",Q,c(r.tempProduct.title),1)):a("",!0)])):a("",!0)}const j=x(L,[["render",T]]),{VITE_API:A,VITE_PATH:S}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},N={data(){return{product:{},tempQty:1}},components:{BreadrumbComponent:j,ProductListComponent:B,PillBtnComponent:D},computed:{...v(_,["getFilterCategoryProducts"])},watch:{tempQty(o){o>10?this.tempQty=10:o<=0&&(this.tempQty=1)},$route(o){const{productid:e}=o.params;e&&this.getProductDetail(e)},mounted(){this.getProductDetail(this.$route.params.productid)}},methods:{...C(_,["getProducts","addCart"]),getProductDetail(o){this.isLoading=!0,this.$http.get(`${A}api/${S}/product/${o}`).then(e=>{this.isLoading=!1,this.product=e.data.product}).catch(e=>(this.isLoading=!1,this.alertMessage("取得商品資訊發生錯誤!"),this.$router.push("/products"),e))},zoomImg(o){o.target.classList.toggle("scale-150")}},mounted(){const{productid:o,category:e}=this.$route.params;this.getProductDetail(o),this.getProducts(e)}},R={class:"container"},M={key:0,class:"flex flex-col mb-12 sm:flex-row"},z=["src"],F={class:"px-4 md:mt-2 md:px-8"},H={class:"mb-2 flex flex-col text-lg text-center md:text-h4 md:mb-6 md:text-start"},O={class:"text-base text-highlight md:mt-6"},U={class:"mb-4 text-sm"},q={class:"text-sm mb-4 md:mb-8"},G={class:"flex justify-center md:justify-start"},J={type:"button",class:"text-fog-400 px-4 py-1 bg-fog-200 border-x border-x-fog-300"},K=t("span",{class:"hidden md:block"},"加入購物車",-1),W=t("span",{class:"material-symbols-outlined md:hidden"}," shopping_cart ",-1),X=[K,W],Y={class:""},Z=t("h2",{class:"text-lg titleDash after:mx-0 mb-6 md:text-2xl"},"相關產品",-1),tt={class:"flex justify-center"};function et(o,e,r,f,s,h){const i=l("BreadrumbComponent"),y=l("ProductListComponent"),b=l("PillBtnComponent");return n(),p("div",R,[m(i,{tempProduct:s.product},null,8,["tempProduct"]),s.product?(n(),p("div",M,[t("img",{src:s.product.imageUrl,alt:"product photo",class:"object-cover mb-6 w-full md:h-auto md:object-contain md:w-1/2",onClick:e[0]||(e[0]=d=>h.zoomImg(d))},null,8,z),t("article",F,[t("h2",H,[g(c(s.product.title)+" ",1),t("span",O,"NT$"+c(s.product.price),1)]),t("p",U,c(s.product.description),1),t("p",q,c(s.product.content),1),t("div",G,[t("button",{type:"button",class:"px-2 py-1 rounded-s-md bg-fog-200 hover:bg-primary hover:text-dark",onClick:e[1]||(e[1]=d=>s.tempQty-=1)}," - "),t("button",J,c(s.tempQty),1),t("button",{type:"button",class:"px-2 py-1 rounded-e-md bg-fog-200 hover:bg-primary hover:text-dark",onClick:e[2]||(e[2]=d=>s.tempQty+=1)}," + "),t("button",{type:"button",class:"bg-secondary py-1 px-4 rounded-md text-white ml-4 flex items-center hover:bg-primary hover:text-dark",onClick:e[3]||(e[3]=k(d=>o.addCart(s.product,s.tempQty),["prevent"]))},X)])])])):a("",!0),t("div",Y,[Z,m(y,{products:o.getFilterCategoryProducts},null,8,["products"]),t("div",tt,[m(b,{dynamicPath:"/products"},{default:u(()=>[g(" 看更多產品 ")]),_:1})])])])}const it=x(N,[["render",et]]);export{it as default};

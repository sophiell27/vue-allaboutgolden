import{f as c}from"./frontStore-297e3c18.js";import{_,m as b,a as g,r as l,o as d,p as x,w as p,b as e,d as o,f as y,q as v,c as V,h as w,s as C}from"./index-f8c59545.js";import{C as k}from"./CartsComponent-e54ba1b4.js";import"./sweetalert2.all-7698f33b.js";import"./NewProductsComponent-bfde380b.js";const{VITE_API:A,VITE_PATH:E}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},P={data(){return{data:{user:{}}}},components:{CartsComponent:k},computed:{...b(c,["carts"])},methods:{...g(c,["getCarts","alertMessage"]),placeOrder(){if(!this.carts.length){this.$swal.fire({text:"購物車沒有內容，無法送出訂單",confirmButtonText:"確定"}).then(a=>a.isConfirmed);return}this.$http.post(`${A}api/${E}/order`,{data:this.data}).then(a=>{alert("已送出訂單"),this.data={user:{}},this.getCarts(),this.$router.push("/orders")}).catch(()=>{alertMessage("無法送出訂單")})}},mounted(){}},S=e("h2",{class:"text-h4 text-center pb-4 mb-8 relative after:content-[''] after:absolute after:-bottom-1 after:left-0 after:right-0 after:mx-auto after:w-8 after:h-1 after:bg-primary md:mb-10"}," 結賬 ",-1),T={class:"grid grid-cols-12 mb-8 md:mb-10"},B={class:"col-start-3 col-span-8"},I=e("h3",{class:"text-4.5 mb-6"}," 請填寫訂單資料",-1),M={class:"grid grid-cols-2 gap-y-4 md:gap-x-4 md:gap-y-8"},U={class:"col-span-2 md:col-span-1"},q=e("label",{for:"recipient",class:"mb-2 block"},"收貨人：",-1),N={class:"col-span-2 md:col-span-1"},O=e("label",{for:"recipientPhone",class:"mb-2 block"},"收貨人電話：",-1),R={class:"col-span-2"},D=e("label",{for:"receipientAddr",class:"mb-2 block"},"收貨人地址：",-1),L={class:"col-span-2"},H=e("label",{for:"receipientMail",class:"mb-2 block"},"電郵：",-1),z={class:"col-span-2 md:col-span-1"},j=e("label",{for:"payment",class:"mb-2 block"},"付款方法：",-1),F=e("option",{value:"銀行轉賬",selected:""},"銀行轉賬",-1),G=e("option",{value:"貨到付款"},"貨到付款",-1),J=[F,G],K=e("div",{class:"col-span-2 md:col-span-1"},[e("label",{for:"couponNum",class:"mb-2 block"},"優惠碼："),e("input",{type:"text",id:"couponNum",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入優惠碼"})],-1),Q={key:0,class:"py-8 px-13 mb-8 bg-white rounded-2.5xl shadow-lg2 md:pb-11 md:px-8 md:mb-10"},W=e("span",{class:"pl-1 xl:pl-2"},"碓認送出訂單",-1),X=e("span",{class:"material-symbols-outlined ml-3 text-base lg:text-2xl"}," chevron_right ",-1),Y=[W,X],Z=e("button",{class:"flex items-center text-4.5"},[e("span",{class:"material-symbols-outlined pl-3 text-base lg:text-2xl"}," chevron_left "),e("span",{class:"pl-1 lg:pl-2"},"回到購物車")],-1);function $(a,t,ee,te,s,m){const n=l("v-field"),i=l("v-error-message"),u=l("CartsComponent"),f=l("RouterLink"),h=l("v-form");return d(),x(h,{class:"container",onSubmit:m.placeOrder},{default:p(()=>[S,e("div",T,[e("div",B,[I,e("div",M,[e("div",U,[q,o(n,{type:"text",id:"recipient",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入收貨人姓名",name:"收貨人姓名",rules:"required",modelValue:s.data.user.name,"onUpdate:modelValue":t[0]||(t[0]=r=>s.data.user.name=r)},null,8,["modelValue"]),o(i,{name:"收貨人姓名",class:"text-highlight"})]),e("div",N,[O,o(n,{type:"tel",id:"recipientPhone",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入收貨人電話",name:"收貨人電話",rules:"required",modelValue:s.data.user.tel,"onUpdate:modelValue":t[1]||(t[1]=r=>s.data.user.tel=r)},null,8,["modelValue"]),o(i,{name:"收貨人電話",class:"text-highlight"})]),e("div",R,[D,o(n,{type:"text",id:"receipientAddr",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入收貨人地址",name:"收貨人地址",rules:"required",modelValue:s.data.user.address,"onUpdate:modelValue":t[2]||(t[2]=r=>s.data.user.address=r)},null,8,["modelValue"]),o(i,{name:"收貨人地址",class:"text-highlight"})]),e("div",L,[H,o(n,{type:"email",id:"receipientMail",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入電郵",name:"電郵",rules:"required",modelValue:s.data.user.email,"onUpdate:modelValue":t[3]||(t[3]=r=>s.data.user.email=r)},null,8,["modelValue"]),o(i,{name:"電郵",class:"text-highlight"})]),e("div",z,[j,y(e("select",{id:"payment",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent","onUpdate:modelValue":t[4]||(t[4]=r=>s.data.message=r)},J,512),[[v,s.data.message]])]),K])])]),a.carts?(d(),V("div",Q,[o(u)])):w("",!0),e("button",{class:C(["btn flex items-center text-sm mx-auto md:text-h6 lg:btn-md xl:btn-lg",{"disabled opacity-50 cursor-default":!a.carts.length}])},Y,2),o(f,{to:"/carts"},{default:p(()=>[Z]),_:1})]),_:1},8,["onSubmit"])}const ne=_(P,[["render",$]]);export{ne as default};

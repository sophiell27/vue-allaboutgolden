import{q as r,s as o}from"./index-2705f1b9.js";const{VITE_API:a,VITE_PATH:i}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},c=r("adminStore",{state:()=>({products:[],productsPagination:{}}),actions:{async checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)goldenToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");return o.defaults.headers.common.Authorization=t,await(async()=>{try{const e=await o.post(`${a}api/user/check`);return this.router.push("/admin"),!0}catch{return this.router.push("/admin/login"),!1}})()},async getProducts(t=1){await o.get(`${a}api/${i}/admin/products?page=${t}`).then(s=>{this.products=s.data.products,this.productsPagination=s.data.pagination,this.router.push(`/admin/products/${t}`)}).catch(s=>{alert("取得產品列表發生錯誤")})}}});export{c as a};

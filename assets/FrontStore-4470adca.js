import{q as d,s}from"./index-2705f1b9.js";const{VITE_API:e,VITE_PATH:r}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},h=d("FrontStore",{state:()=>({products:[],tempProduct:{},carts:[]}),getters:{cartTotal:({carts:t})=>t.reduce((a,o)=>a+o.final_total,0),cartlength:({carts:t})=>t.length},actions:{getProducts(){s.get(`${e}api/${r}/products/all`).then(t=>{this.products=t.data.products,console.log(t.data)}).catch(t=>{alert("無法取得產品列表")})},getSingleProduct(t){s.get(`${e}api/${r}/product/${t}`).then(a=>{this.tempProduct=a.data.product}).catch(a=>{alert("取得商品資訊發生錯誤")})},getCarts(){s.get(`${e}api/${r}/cart`).then(t=>{this.carts=t.data.data.carts}).catch(()=>{alert("無法取得產品列表")})},addCart(t,a=1){console.log(t);let o="post",c=`${e}api/${r}/cart`;t.qty&&(o="put",c=`${e}api/${r}/cart/${t.id}`,a+=t.qty);const i={product_id:t.id,qty:a};s[o](c,{data:i}).then(l=>{alert("已加入購物車！"),this.getCarts()}).catch(l=>{alert("加入購物車發生錯誤")})}}});export{h as F};

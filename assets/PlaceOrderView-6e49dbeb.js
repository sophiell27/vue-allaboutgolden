import{f as c}from"./frontStore-21f3ff23.js";import{_,m as b,a as g,r as a,o as d,i as y,w as p,b as e,d as o,k as x,p as v,c as V,l as k,q as w}from"./index-1a926d7a.js";import{C}from"./CartsComponent-6202d321.js";import"./NewProductsComponent-ddcf1d25.js";const{VITE_API:A,VITE_PATH:E}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},P={data(){return{data:{user:{}}}},components:{CartsComponent:C},computed:{...b(c,["carts"])},methods:{...g(c,["getCarts"]),placeOrder(){if(!this.carts.length){confirm("購物車沒有內容，無法送出訂單");return}console.log("gg"),this.$http.post(`${A}api/${E}/order`,{data:this.data}).then(i=>{alert("已送出訂單"),this.data={user:{}},this.getCarts(),this.$router.push("/orders")}).catch(()=>{confirm("無法送出訂單")})}}},S=e("h2",{class:"text-h4 text-center pb-4 mb-8 relative after:content-[''] after:absolute after:-bottom-1 after:left-0 after:right-0 after:mx-auto after:w-8 after:h-1 after:bg-primary md:mb-10"}," 結賬 ",-1),I={class:"grid grid-cols-12 mb-8 md:mb-10"},T={class:"col-start-3 col-span-8"},U=e("h3",{class:"text-4.5 mb-6"}," 請填寫訂單資料",-1),q={class:"grid grid-cols-2 gap-y-4 md:gap-x-4 md:gap-y-8"},B={class:"col-span-2 md:col-span-1"},N=e("label",{for:"recipient",class:"mb-2 block"},"收貨人：",-1),O={class:"col-span-2 md:col-span-1"},R=e("label",{for:"recipientPhone",class:"mb-2 block"},"收貨人電話：",-1),D={class:"col-span-2"},M=e("label",{for:"receipientAddr",class:"mb-2 block"},"收貨人地址：",-1),L={class:"col-span-2"},H=e("label",{for:"receipientMail",class:"mb-2 block"},"電郵：",-1),z={class:"col-span-2 md:col-span-1"},j=e("label",{for:"payment",class:"mb-2 block"},"付款方法：",-1),F=e("option",{value:"銀行轉賬",selected:""},"銀行轉賬",-1),G=e("option",{value:"貨到付款"},"貨到付款",-1),J=[F,G],K=e("div",{class:"col-span-2 md:col-span-1"},[e("label",{for:"couponNum",class:"mb-2 block"},"優惠碼："),e("input",{type:"text",id:"couponNum",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入優惠碼"})],-1),Q={key:0,class:"py-8 px-13 mb-8 bg-white rounded-2.5xl shadow-lg2 md:pb-11 md:px-8 md:mb-10"},W=e("span",{class:"pl-1 xl:pl-2"},"碓認送出訂單",-1),X=e("span",{class:"material-symbols-outlined ml-3 text-base lg:text-2xl"}," chevron_right ",-1),Y=[W,X],Z=e("button",{class:"flex items-center text-4.5"},[e("span",{class:"material-symbols-outlined pl-3 text-base lg:text-2xl"}," chevron_left "),e("span",{class:"pl-1 lg:pl-2"},"回到購物車")],-1);function $(i,t,ee,te,s,m){const l=a("v-field"),n=a("v-error-message"),u=a("CartsComponent"),f=a("RouterLink"),h=a("v-form");return d(),y(h,{class:"container",onSubmit:m.placeOrder},{default:p(()=>[S,e("div",I,[e("div",T,[U,e("div",q,[e("div",B,[N,o(l,{type:"text",id:"recipient",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入收貨人姓名",name:"收貨人姓名",rules:"required",modelValue:s.data.user.name,"onUpdate:modelValue":t[0]||(t[0]=r=>s.data.user.name=r)},null,8,["modelValue"]),o(n,{name:"收貨人姓名",class:"text-highlight"})]),e("div",O,[R,o(l,{type:"tel",id:"recipientPhone",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入收貨人電話",name:"收貨人電話",rules:"required",modelValue:s.data.user.tel,"onUpdate:modelValue":t[1]||(t[1]=r=>s.data.user.tel=r)},null,8,["modelValue"]),o(n,{name:"收貨人電話",class:"text-highlight"})]),e("div",D,[M,o(l,{type:"text",id:"receipientAddr",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入收貨人地址",name:"收貨人地址",rules:"required",modelValue:s.data.user.address,"onUpdate:modelValue":t[2]||(t[2]=r=>s.data.user.address=r)},null,8,["modelValue"]),o(n,{name:"收貨人地址",class:"text-highlight"})]),e("div",L,[H,o(l,{type:"email",id:"receipientMail",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent",placeholder:"請輸入電郵",name:"電郵",rules:"required",modelValue:s.data.user.email,"onUpdate:modelValue":t[3]||(t[3]=r=>s.data.user.email=r)},null,8,["modelValue"]),o(n,{name:"電郵",class:"text-highlight"})]),e("div",z,[j,x(e("select",{id:"payment",class:"w-full rounded-lg px-4 py-2 border-primary focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-primary bg-transparent","onUpdate:modelValue":t[4]||(t[4]=r=>s.data.message=r)},J,512),[[v,s.data.message]])]),K])])]),i.carts?(d(),V("div",Q,[o(u)])):k("",!0),e("button",{class:w(["btn flex items-center text-sm mx-auto md:text-h6 lg:btn-md xl:btn-lg",{"disabled opacity-50 cursor-default":!i.carts.length}])},Y,2),o(f,{to:"/carts"},{default:p(()=>[Z]),_:1})]),_:1},8,["onSubmit"])}const le=_(P,[["render",$]]);export{le as default};

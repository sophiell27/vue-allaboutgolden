import{a as p}from"./adminStore-9d31572d.js";import{_ as f,m as b,e as v,r as s,o as x,c as L,b as t,f as e,w as n,F as y,d as k}from"./index-63941f38.js";import{_ as w}from"./Logo-990baef8.js";import"./sweetalert2.all-2a6e8b79.js";const{VITE_API:P}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},$={data(){return{}},computed:{...b(p,["isLoading","fullPage"])},methods:{...v(p,["checkLogin","alertMessage","changeLoading"]),login(o){this.changeLoading(!0);const a={username:o.帳戶名稱,password:o.登入密碼};this.$http.post(`${P}/admin/signin`,a).then(i=>{this.changeLoading(!1);const{token:r,expired:l}=i.data;document.cookie=`goldenToken=${r};expires=${new Date(l)}`,this.$router.push("/admin")}).catch(()=>{this.changeLoading(!1),this.alertMessage("登入錯誤，請重新輸入")})}},mounted(){this.checkLogin()}},E={class:"bg-primary py-6"},S={class:"container flex items-center justify-start text-dark"},V={class:""},A=e("span",{class:"material-symbols-outlined"}," chevron_left ",-1),T={class:"container flex flex-col items-center justify-center mt-20"},I=e("img",{src:w,alt:"logo",class:"mb-8"},null,-1),N=e("h1",{class:"text-2xl mb-4 text-center"},"管理員登入",-1),R={class:"mb-4"},B=e("label",{for:"adminLoginName",class:"block mb-2"},"帳戶名稱",-1),C={class:"mb-4"},D=e("label",{for:"adminLoginPw",class:"block mb-2"},"帳戶密碼",-1),M=e("button",{class:"bg-secondary rounded-lg text-white w-full px-6 py-2"},"登入",-1);function j(o,a,i,r,l,_){const g=s("LoadingComponent"),c=s("RouterLink"),d=s("v-field"),m=s("v-error-message"),h=s("v-form");return x(),L(y,null,[t(g,{active:o.isLoading,"onUpdate:active":a[0]||(a[0]=u=>o.isLoading=u),"is-full-page":o.fullPage},null,8,["active","is-full-page"]),e("nav",E,[e("ul",S,[e("li",V,[t(c,{to:"/",class:"hover:opacity-70 flex items-center"},{default:n(()=>[A,k(" 回到前台首頁 ")]),_:1})])])]),e("div",T,[t(h,{class:"",onSubmit:_.login},{default:n(()=>[t(c,{to:"/"},{default:n(()=>[I]),_:1}),N,e("div",R,[B,t(d,{name:"帳戶名稱",type:"email",id:"adminLoginName",class:"px-4 py-2 border border-primary rounded-lg bg-transparent mb-1 w-full",placeholder:"請輸入帳戶名稱",rules:"required|email"}),t(m,{name:"帳戶名稱",class:"text-highlight"})]),e("div",C,[D,t(d,{name:"登入密碼",type:"password",id:"adminLoginPw",class:"px-4 py-2 border border-primary rounded-lg bg-transparent mb-1 w-full",placeholder:"請輸入密碼",rules:"required|min:8"}),t(m,{name:"登入密碼",class:"text-highlight"})]),M]),_:1},8,["onSubmit"])])],64)}const H=f($,[["render",j]]);export{H as default};

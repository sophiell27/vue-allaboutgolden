import{f as d}from"./frontStore-874515a5.js";import{_ as g,m as _,e as b,r as l,o as p,j as x,w as m,f as e,b as o,g as y,s as v,c as V,n as C,i as k}from"./index-10c4a326.js";import{C as w}from"./CartsComponent-0856fea2.js";import"./sweetalert2.all-b5a5b749.js";import"./lodash-82a3576f.js";const{VITE_API:B,VITE_PATH:S}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},A={data(){return{data:{user:{},message:"銀行轉賬"}}},components:{CartsComponent:w},computed:{..._(d,["carts","loginStatus"])},methods:{...b(d,["getCarts","alertMessage","toastMessge"]),placeOrder(){if(!this.carts.length){this.$swal.fire({text:"購物車沒有內容，無法送出訂單",confirmButtonText:"確定"}).then(a=>a.isConfirmed);return}this.$http.post(`${B}api/${S}/order`,{data:this.data}).then(()=>{this.toastMessge("已送出訂單"),this.data={user:{}},this.getCarts(),this.$router.push("/user/orders/1")}).catch(()=>{this.alertMessage("無法送出訂單")})},checkCart(){this.carts.length===0&&this.$swal.fire({text:"購物車沒有內容，請先選擇商品",confirmButtonText:"確定"}).then(()=>this.$router.push("/products"))}}},E=e("h2",{class:"text-h4 text-center pb-4 mb-8 relative after:content-[''] after:absolute after:-bottom-1 after:left-0 after:right-0 after:mx-auto after:w-8 after:h-1 after:bg-primary md:mb-10"}," 結賬 ",-1),M={class:"grid grid-cols-12"},P={class:"col-span-12 md:col-start-2 md:col-span-9 mb-8 md:mb-10"},T=e("h3",{class:"text-4.5 mb-6"}," 請填寫訂單資料",-1),I={class:"text-fog-500 grid grid-cols-2 gap-y-4 md:gap-x-4 md:gap-y-8"},U={class:"col-span-2 md:col-span-1"},O=e("label",{for:"recipient",class:"mb-2 block"},"收貨人：",-1),R={class:"col-span-2 md:col-span-1"},q=e("label",{for:"recipientPhone",class:"mb-2 block"},"收貨人電話：",-1),D={class:"col-span-2"},L=e("label",{for:"receipientAddr",class:"mb-2 block"},"收貨人地址：",-1),N={class:"col-span-2 md:col-span-1"},j=e("label",{for:"receipientMail",class:"mb-2 block"},"電郵：",-1),H={class:"col-span-2 md:col-span-1"},z=e("label",{for:"payment",class:"mb-2 block"},"付款方法：",-1),F=e("option",{value:"銀行轉賬",select:"selected"},"銀行轉賬",-1),G=e("option",{value:"貨到付款"},"貨到付款",-1),J=[F,G],K={key:0,class:"col-span-12 md:col-start-2 md:col-span-9 py-8"},Q={class:"flex items-center justify-between mt-8 md:pt-11 md:mt-10"},W=e("button",{class:"flex items-center text-4.5"},[e("span",{class:"material-symbols-outlined pl-3 text-base lg:text-2xl"}," chevron_left "),e("span",{class:"pl-1 lg:pl-2"},"回到購物車")],-1),X=e("span",{class:"pl-1 xl:pl-2"},"碓認送出訂單",-1),Y=e("span",{class:"material-symbols-outlined ml-3 text-base lg:text-2xl"}," chevron_right ",-1),Z=[X,Y];function $(a,t,ee,te,s,c){const n=l("v-field"),i=l("v-error-message"),u=l("CartsComponent"),f=l("RouterLink"),h=l("v-form");return p(),x(h,{class:"container",onSubmit:c.placeOrder,onClick:c.checkCart},{default:m(()=>[E,e("div",M,[e("div",P,[T,e("div",I,[e("div",U,[O,o(n,{type:"text",id:"recipient",class:"w-full rounded-lg px-4 py-2 border-fog-500 focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-fog-500 bg-transparent",placeholder:"請輸入收貨人姓名",name:"收貨人姓名",rules:"required",modelValue:s.data.user.name,"onUpdate:modelValue":t[0]||(t[0]=r=>s.data.user.name=r)},null,8,["modelValue"]),o(i,{name:"收貨人姓名",class:"text-highlight"})]),e("div",R,[q,o(n,{type:"tel",id:"recipientPhone",class:"w-full rounded-lg px-4 py-2 border-fog-500 focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-fog-500 bg-transparent",placeholder:"請輸入收貨人電話",name:"收貨人電話",rules:"required",modelValue:s.data.user.tel,"onUpdate:modelValue":t[1]||(t[1]=r=>s.data.user.tel=r)},null,8,["modelValue"]),o(i,{name:"收貨人電話",class:"text-highlight"})]),e("div",D,[L,o(n,{type:"text",id:"receipientAddr",class:"w-full rounded-lg px-4 py-2 border-fog-500 focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-fog-500 bg-transparent",placeholder:"請輸入收貨人地址",name:"收貨人地址",rules:"required",modelValue:s.data.user.address,"onUpdate:modelValue":t[2]||(t[2]=r=>s.data.user.address=r)},null,8,["modelValue"]),o(i,{name:"收貨人地址",class:"text-highlight"})]),e("div",N,[j,o(n,{type:"email",id:"receipientMail",class:"w-full rounded-lg px-4 py-2 border-fog-500 focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-fog-500 bg-transparent",placeholder:"請輸入電郵",name:"電郵",rules:"required",modelValue:s.data.user.email,"onUpdate:modelValue":t[3]||(t[3]=r=>s.data.user.email=r)},null,8,["modelValue"]),o(i,{name:"電郵",class:"text-highlight"})]),e("div",H,[z,y(e("select",{id:"payment",class:"w-full rounded-lg px-4 py-2 border-fog-500 focus:outline-none focus:ring focus:ring-primary focus:border-primary placeholder:text-fog-500 bg-transparent","onUpdate:modelValue":t[4]||(t[4]=r=>s.data.message=r)},J,512),[[v,s.data.message]])])])]),a.carts?(p(),V("div",K,[o(u),e("div",Q,[o(f,{to:"/user/carts"},{default:m(()=>[W]),_:1}),e("button",{class:C(["pillBtn flex items-center text-sm md:text-h6 lg:pillBtn-lg",{"disabled opacity-50 cursor-default":!a.carts.length}])},Z,2)])])):k("",!0)])]),_:1},8,["onSubmit","onClick"])}const ne=g(A,[["render",$]]);export{ne as default};

import{f as c}from"./frontStore-9ee5a5bc.js";import{_ as f,m as u,e as _,r as o,o as e,c as s,j as C,f as a,n as g,b as i,w as P,i as $,d as x}from"./index-5f837eb9.js";import{P as v}from"./ProductListComponent-42af1e76.js";import{C as V}from"./CartsComponent-0b2fc4e8.js";import{P as b}from"./PillBtnComponent-fddb6991.js";import"./sweetalert2.all-cc29473f.js";const{VITE_API:l,VITE_PATH:m}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},y={components:{ProductListComponent:v,CartsComponent:V,PillBtnComponent:b},computed:{...u(c,["carts","cartTotal","loginStatus","getNewProducts"])},methods:{..._(c,["getCarts","alertMessage"]),changeQty(t,r){const n={product_id:t,qty:Number(r.target.value)};this.$http.put(`${l}api/${m}/cart/${t}`,{data:n}).then(()=>{this.getCarts()}).catch(()=>{this.alertMessage("無法更改數量")})},delCartItem(t){this.$http.delete(`${l}api/${m}/cart/${t}`).then(()=>{this.getCarts()}).catch(()=>{this.alertMessage("無法刪除購物車內容")})}},mounted(){this.getCarts()}},B={class:"container pt-10 md:pt-16"},E=a("h2",{class:"text-h4 text-center pb-4 mb-20 relative after:content-[''] after:absolute after:-bottom-1 after:left-0 after:right-0 after:mx-auto after:w-8 after:h-1 after:bg-primary"}," 購物車 ",-1),T={key:0,class:"text-center text-highlight"},N={key:2,class:"mt-14 lg:mt-20"},k={class:"flex justify-center"};function w(t,r,n,A,I,S){const p=o("CartsComponent"),h=o("ProductListComponent"),d=o("PillBtnComponent");return e(),s("div",B,[E,t.carts.length?(e(),C(p,{key:1})):(e(),s("p",T,"購物車沒有內容！")),t.$route.fullPath!="/place-order"?(e(),s("div",N,[a("h2",{class:g(["titleDash text-center mb-6",{" after:mx-0 text-start":t.carts.length}])},"繼續選購產品",2),i(h,{products:t.getNewProducts},null,8,["products"]),a("div",k,[i(d,{dynamicPath:"/products"},{default:P(()=>[x(" 看更多產品 ")]),_:1})])])):$("",!0)])}const O=f(y,[["render",w]]);export{O as default};

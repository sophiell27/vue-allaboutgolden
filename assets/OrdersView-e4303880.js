import{P as p}from"./PaginationComponent-9ea49e1b.js";import{_ as g,r as _,o as n,c as a,b as t,F as d,i as u,j as m,d as f,t as s,n as b}from"./index-2705f1b9.js";const{VITE_API:P,VITE_PATH:x}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},$={data(){return{orders:[],orderPagination:{}}},components:{PaginationComponent:p},methods:{getOrders(r=1){this.$http.get(`${P}api/${x}/orders?page=${r}`).then(e=>{this.orders=e.data.orders,this.orderPagination=e.data.pagination}).catch(e=>{console.log("無法取得訂單列表")})},getFormatDate(r){const e=new Date(r*1e3);return`${e.getDate()}/${e.getMonth()}/${e.getFullYear()}`},getOrderPorduct(){}},mounted(){this.getOrders()}},V={class:"container flex flex-col h-full"},D=t("h1",{class:"text-h4 text-center mb-8"},"訂單列表",-1),E={key:0,class:"w-full mb-auto"},v=t("thead",{class:"border-b border-b-secondary"},[t("tr",null,[t("th",null,"日期"),t("th",null,"訂單編號"),t("th",null,"訂單內容"),t("th",null,"總計"),t("th",null,"付款狀態")])],-1),y={class:"text-center mb-2"};function O(r,e,T,C,l,c){const h=_("PaginationComponent");return n(),a("div",V,[D,l.orders?(n(),a("table",E,[v,t("tbody",y,[(n(!0),a(d,null,u(l.orders,o=>(n(),a("tr",{key:o.create_at,class:"hover:bg-fog-200"},[t("td",null,s(c.getFormatDate(o.create_at)),1),t("td",null,s(o.id),1),t("td",null,[(n(!0),a(d,null,u(o.products,i=>(n(),a("p",{key:`item${i.id}`},s(`${i.product.title} x ${i.qty}`),1))),128))]),t("td",null,"NT$ "+s(o.total),1),t("td",{class:b({"text-highlight border-b-highlight":!o.is_paid})},s(o.is_paid?"已付款":"未付款"),3)]))),128))])])):m("",!0),f(h,{pagination:l.orderPagination,onGetpage:c.getOrders},null,8,["pagination","onGetpage"])])}const A=g($,[["render",O]]);export{A as default};

import{f as d}from"./frontStore-2c67cf42.js";import{_ as g,m,e as x,r as u,o as a,c as n,f as t,F as c,a as h,b as f,t as r,n as y}from"./index-63941f38.js";import{P as b}from"./PaginationComponent-773d4075.js";import"./sweetalert2.all-2a6e8b79.js";const{VITE_API:$,VITE_PATH:P}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},v={data(){return{orders:[],orderPagination:{}}},computed:{...m(d,["loginStatus"])},components:{PaginationComponent:b},methods:{...x(d,["alertMessage"]),getOrders(o=1){this.$http.get(`${$}api/${P}/orders?page=${o}`).then(e=>{this.orders=e.data.orders,this.orderPagination=e.data.pagination,this.$router.push(`/user/orders/${o}`)}).catch(()=>{})},getFormatDate(o){const e=new Date(o*1e3);return`${e.getDate()}/${e.getMonth()}/${e.getFullYear()}`}},mounted(){this.getOrders(this.$route.params.orderpage)}},w={class:"container pt-10 md:pt-16"},D=t("h2",{class:"titleDash text-h4 text-center text-dark pb-5 mb-7"},"訂單列表",-1),E={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},S={class:"w-full text-sm text-left text-fog-500"},V=t("thead",{class:"font-extrabold text-4.5 text-fog-500 bg-fog-200 whitespace-nowrap"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," 日期 "),t("th",{scope:"col",class:"px-6 py-3"}," 訂單編號 "),t("th",{scope:"col",class:"px-6 py-3"}," 訂單內容 "),t("th",{scope:"col",class:"px-6 py-3"}," 總計 "),t("th",{scope:"col",class:"px-6 py-3"},[t("span",{class:"hidden md:block"},"付款狀態")])])],-1),T={class:"px-2 py-4 md:px-6"},k={class:"px-2 py-4 md:px-6 text-xs"},A={class:"px-2 py-4 text-xs md:px-6"},I={class:"px-2 py-4 md:px-6 text-xs"};function O(o,e,C,F,i,l){const _=u("PaginationComponent");return a(),n(c,null,[t("div",w,[D,t("div",E,[t("table",S,[V,t("tbody",null,[(a(!0),n(c,null,h(i.orders,s=>(a(),n("tr",{class:"bg-white border-b hover:bg-fog-100",key:s.create_at},[t("td",T,r(l.getFormatDate(s.create_at)),1),t("td",k,r(s.id),1),t("td",A,[(a(!0),n(c,null,h(s.products,p=>(a(),n("p",{key:`item${p.id}`},r(`${p.product.title} x ${p.qty}`),1))),128))]),t("td",I," NT $ "+r(s.total),1),t("td",{class:y(["px-2 py-4 md:px-6",{"text-highlight border-b-highlight":!s.is_paid}])},r(s.is_paid?"已付款":"未付款"),3)]))),128))])])])]),f(_,{pagination:i.orderPagination,onGetpage:l.getOrders},null,8,["pagination","onGetpage"])],64)}const G=g(v,[["render",O]]);export{G as default};

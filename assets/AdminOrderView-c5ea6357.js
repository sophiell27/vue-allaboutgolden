import{P as p}from"./PaginationComponent-9ea49e1b.js";import{_ as g,r as _,o as n,c as r,b as t,F as c,i as h,j as b,d as m,t as a,n as x,e as f}from"./index-2705f1b9.js";const{VITE_API:P,VITE_PATH:y}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"sophiee22",BASE_URL:"/vue-live-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},v={data(){return{orders:[],orderPagination:{}}},components:{PaginationComponent:p},methods:{getOrders(s=1){this.$http.get(`${P}api/${y}/admin/orders?page=${s}`).then(e=>{this.orders=e.data.orders,this.orderPagination=e.data.pagination}).catch(e=>{console.log("無法取得訂單列表")})},getFormatDate(s){const e=new Date(s*1e3);return`${e.getDate()}/${e.getMonth()}/${e.getFullYear()}`},getOrderPorduct(){}},mounted(){this.getOrders()}},V={class:"container flex flex-col h-full"},$=t("h1",{class:"text-h4 text-center mb-8"},"訂單列表",-1),D={key:0,class:"w-full mb-auto"},E=t("thead",{class:"border-b border-b-secondary"},[t("tr",null,[t("th",null,"日期"),t("th",null,"訂單編號"),t("th",null,"訂單內容"),t("th",null,"總計"),t("th",null,"是否付款"),t("th",null,"編輯")])],-1),T={class:"text-center mb-2"},O=t("td",{class:"py-2"},[t("button",{type:"button",class:"pb-px border-b border-b-secondary hover:text-highlight hover:border-b-highlight"}," 編輯 "),f(" / "),t("button",{class:"pb-px border-b border-b-secondary hover:text-highlight hover:border-b-highlight"}," 刪除 ")],-1);function A(s,e,C,I,l,d){const u=_("PaginationComponent");return n(),r("div",V,[$,l.orders?(n(),r("table",D,[E,t("tbody",T,[(n(!0),r(c,null,h(l.orders,o=>(n(),r("tr",{key:o.create_at},[t("td",null,a(d.getFormatDate(o.create_at)),1),t("td",null,a(o.id),1),t("td",null,[(n(!0),r(c,null,h(o.products,i=>(n(),r("p",{key:`item${i.id}`},a(`${i.product.title} x ${i.qty}`),1))),128))]),t("td",null,"NT$ "+a(o.total),1),t("td",{class:x({"text-highlight border-b-highlight":!o.is_paid})},a(o.is_paid?"已付款":"未付款"),3),O]))),128))])])):b("",!0),m(u,{pagination:l.orderPagination,onGetpage:d.getOrders},null,8,["pagination","onGetpage"])])}const N=g(v,[["render",A]]);export{N as default};
